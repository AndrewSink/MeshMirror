<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>MeshMirror</title>
        <link rel="stylesheet" href="style.css">
        <script type="importmap">
            {
                "imports": {
                    "three": "https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.module.js",
                    "three/examples/jsm/controls/OrbitControls": "https://cdn.jsdelivr.net/npm/three@0.160.0/examples/jsm/controls/OrbitControls.js",
                    "three/examples/jsm/loaders/STLLoader.js": "https://cdn.jsdelivr.net/npm/three@0.160.0/examples/jsm/loaders/STLLoader.js",
                    "three/addons/exporters/STLExporter.js": "https://cdn.jsdelivr.net/npm/three@0.160.0/examples/jsm/exporters/STLExporter.js"
                }
            }
        </script>
    </head>

    <body>
        <div class="sidebar">
            <h1 class="title">MeshMirror</h1>
            
            <div class="section">
                <h3 class="section-title">File & View</h3>
                <button class="btn btn-primary" id="uploadButton">Upload STL</button>
                <input type="file" id="fileInput" style="display:none;" accept=".stl">
            </div>

            <div class="section">
                <h3 class="section-title">Model Controls</h3>
                <button class="btn btn-success" id="mirrorYButton">Mirror</button>
                <button class="btn btn-danger" id="resetButton">Reset</button>
            </div>

            <div class="section">
                <h3 class="section-title">Export</h3>
                <button class="btn btn-secondary" id="exportButton" disabled>Export Mirrored .STL</button>
            </div>

            <div class="credits">
                Andrew Sink - 2025<br>
                <a href="https://www.thingiverse.com/thing:23902" target="_blank">Garden Toad 3D Model by pmoews / CC BY 4.0</a><br><br>
                Full Code: <a href="https://github.com/AndrewSink/MeshMirror" target="_blank">GitHub</a>
            </div>
        </div>

        <div id="canvas-container"></div>

        <script type="module" src="script.js"></script>

        <div class="ko-fi">
            <script src='https://storage.ko-fi.com/cdn/scripts/overlay-widget.js'></script>
            <script>
                kofiWidgetOverlay.draw('andrewsink', {
                    'type': 'floating-chat',
                    'floating-chat.donateButton.text': 'Support me',
                    'floating-chat.donateButton.background-color': '#00b9fe',
                    'floating-chat.donateButton.text-color': '#fff'
                });
            </script>
        </div>
    </body>

</html>